<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:dt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 15">
<meta name=Originator content="Microsoft Word 15">
<link rel=File-List href="bildredigerare-filer/filelist.xml">
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Nils Pålsson</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>Nils Pålsson</o:LastAuthor>
  <o:Revision>1</o:Revision>
  <o:TotalTime>2</o:TotalTime>
  <o:Created>2025-07-03T11:58:00Z</o:Created>
  <o:LastSaved>2025-07-03T12:00:00Z</o:LastSaved>
  <o:Pages>31</o:Pages>
  <o:Words>6545</o:Words>
  <o:Characters>34692</o:Characters>
  <o:Company>Engelholms kommun</o:Company>
  <o:Lines>289</o:Lines>
  <o:Paragraphs>82</o:Paragraphs>
  <o:CharactersWithSpaces>41155</o:CharactersWithSpaces>
  <o:Version>16.00</o:Version>
 </o:DocumentProperties>
 <o:CustomDocumentProperties>
  <o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_Enabled dt:dt="string">true</o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_Enabled>
  <o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_SetDate dt:dt="string">2025-07-03T12:00:07Z</o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_SetDate>
  <o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_Method dt:dt="string">Standard</o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_Method>
  <o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_Name dt:dt="string">Intern information - Klass 2</o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_Name>
  <o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_SiteId dt:dt="string">95df9bdf-a310-42de-8ca0-31ecb0a11db8</o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_SiteId>
  <o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_ActionId dt:dt="string">e7aac858-6fbc-437d-a91f-50000f86183b</o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_ActionId>
  <o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_ContentBits dt:dt="string">0</o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_ContentBits>
  <o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_Tag dt:dt="string">10, 3, 0, 1</o:MSIP_Label_f97bee3f-8519-4eae-9be2-8219f8f8b160_Tag>
 </o:CustomDocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=themeData href="bildredigerare-filer/themedata.thmx">
<link rel=colorSchemeMapping href="bildredigerare-filer/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:HyphenationZone>21</w:HyphenationZone>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>SV</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:EnableOpenTypeKerning/>
   <w:DontFlipMirrorIndents/>
   <w:OverrideTableStyleHps/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="false"
  DefSemiHidden="false" DefQFormat="false" DefPriority="99"
  LatentStyleCount="376">
  <w:LsdException Locked="false" Priority="0" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 9"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="header"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footer"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index heading"/>
  <w:LsdException Locked="false" Priority="35" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of figures"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope return"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="line number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="page number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of authorities"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="macro"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="toa heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 5"/>
  <w:LsdException Locked="false" Priority="10" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Closing"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Signature"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="true"
   UnhideWhenUsed="true" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Message Header"/>
  <w:LsdException Locked="false" Priority="11" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Salutation"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Date"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Note Heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Block Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Hyperlink"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="FollowedHyperlink"/>
  <w:LsdException Locked="false" Priority="22" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Document Map"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Plain Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="E-mail Signature"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Top of Form"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Bottom of Form"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal (Web)"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Acronym"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Cite"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Code"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Definition"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Keyboard"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Preformatted"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Sample"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Typewriter"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Variable"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal Table"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation subject"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="No List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Contemporary"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Elegant"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Professional"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Subtle 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Subtle 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Balloon Text"/>
  <w:LsdException Locked="false" Priority="39" Name="Table Grid"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Theme"/>
  <w:LsdException Locked="false" SemiHidden="true" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" SemiHidden="true" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" QFormat="true"
   Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" QFormat="true"
   Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" QFormat="true"
   Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" QFormat="true"
   Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" QFormat="true"
   Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" QFormat="true"
   Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" SemiHidden="true"
   UnhideWhenUsed="true" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="TOC Heading"/>
  <w:LsdException Locked="false" Priority="41" Name="Plain Table 1"/>
  <w:LsdException Locked="false" Priority="42" Name="Plain Table 2"/>
  <w:LsdException Locked="false" Priority="43" Name="Plain Table 3"/>
  <w:LsdException Locked="false" Priority="44" Name="Plain Table 4"/>
  <w:LsdException Locked="false" Priority="45" Name="Plain Table 5"/>
  <w:LsdException Locked="false" Priority="40" Name="Grid Table Light"/>
  <w:LsdException Locked="false" Priority="46" Name="Grid Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="Grid Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="Grid Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="46" Name="List Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="List Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="List Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Mention"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Smart Hyperlink"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Hashtag"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Unresolved Mention"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Smart Link"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-536869121 1107305727 33554432 0 415 0;}
@font-face
	{font-family:Aptos;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:536871559 3 0 0 415 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Aptos;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
h1
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik 1 Char";
	mso-style-next:Normal;
	margin-top:18.0pt;
	margin-right:0cm;
	margin-bottom:4.0pt;
	margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:20.0pt;
	font-family:"Aptos Display",sans-serif;
	mso-ascii-font-family:"Aptos Display";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"Aptos Display";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;
	font-weight:normal;}
h2
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik 2 Char";
	mso-style-next:Normal;
	margin-top:8.0pt;
	margin-right:0cm;
	margin-bottom:4.0pt;
	margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:16.0pt;
	font-family:"Aptos Display",sans-serif;
	mso-ascii-font-family:"Aptos Display";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"Aptos Display";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;
	font-weight:normal;}
h3
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik 3 Char";
	mso-style-next:Normal;
	margin-top:8.0pt;
	margin-right:0cm;
	margin-bottom:4.0pt;
	margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:14.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;
	font-weight:normal;}
h4
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik 4 Char";
	mso-style-next:Normal;
	margin-top:4.0pt;
	margin-right:0cm;
	margin-bottom:2.0pt;
	margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;
	font-weight:normal;
	font-style:italic;}
h5
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik 5 Char";
	mso-style-next:Normal;
	margin-top:4.0pt;
	margin-right:0cm;
	margin-bottom:2.0pt;
	margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:5;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;
	font-weight:normal;}
h6
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik 6 Char";
	mso-style-next:Normal;
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:6;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#595959;
	mso-themecolor:text1;
	mso-themetint:166;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;
	font-weight:normal;
	font-style:italic;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik 7 Char";
	mso-style-next:Normal;
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:7;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#595959;
	mso-themecolor:text1;
	mso-themetint:166;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik 8 Char";
	mso-style-next:Normal;
	margin:0cm;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:8;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#272727;
	mso-themecolor:text1;
	mso-themetint:216;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;
	font-style:italic;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik 9 Char";
	mso-style-next:Normal;
	margin:0cm;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:9;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#272727;
	mso-themecolor:text1;
	mso-themetint:216;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik Char";
	mso-style-next:Normal;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:4.0pt;
	margin-left:0cm;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	mso-ascii-font-family:"Aptos Display";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"Aptos Display";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	letter-spacing:-.5pt;
	mso-font-kerning:14.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik Char";
	mso-style-next:Normal;
	mso-style-type:export-only;
	margin:0cm;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	mso-ascii-font-family:"Aptos Display";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"Aptos Display";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	letter-spacing:-.5pt;
	mso-font-kerning:14.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik Char";
	mso-style-next:Normal;
	mso-style-type:export-only;
	margin:0cm;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	mso-ascii-font-family:"Aptos Display";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"Aptos Display";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	letter-spacing:-.5pt;
	mso-font-kerning:14.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Rubrik Char";
	mso-style-next:Normal;
	mso-style-type:export-only;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:4.0pt;
	margin-left:0cm;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	mso-ascii-font-family:"Aptos Display";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"Aptos Display";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	letter-spacing:-.5pt;
	mso-font-kerning:14.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-priority:11;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Underrubrik Char";
	mso-style-next:Normal;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:14.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#595959;
	mso-themecolor:text1;
	mso-themetint:166;
	letter-spacing:.75pt;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:36.0pt;
	mso-add-space:auto;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Aptos;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-type:export-only;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	mso-add-space:auto;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Aptos;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-type:export-only;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	mso-add-space:auto;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Aptos;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-type:export-only;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:36.0pt;
	mso-add-space:auto;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Aptos;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
p.MsoQuote, li.MsoQuote, div.MsoQuote
	{mso-style-priority:29;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Citat Char";
	mso-style-next:Normal;
	margin-top:8.0pt;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	text-align:center;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Aptos;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	color:#404040;
	mso-themecolor:text1;
	mso-themetint:191;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;
	font-style:italic;}
p.MsoIntenseQuote, li.MsoIntenseQuote, div.MsoIntenseQuote
	{mso-style-priority:30;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Starkt citat Char";
	mso-style-next:Normal;
	margin-top:18.0pt;
	margin-right:43.2pt;
	margin-bottom:18.0pt;
	margin-left:43.2pt;
	text-align:center;
	line-height:115%;
	mso-pagination:widow-orphan;
	border:none;
	mso-border-top-alt:solid #0F4761 .5pt;
	mso-border-top-themecolor:accent1;
	mso-border-top-themeshade:191;
	mso-border-bottom-alt:solid #0F4761 .5pt;
	mso-border-bottom-themecolor:accent1;
	mso-border-bottom-themeshade:191;
	padding:0cm;
	mso-padding-alt:10.0pt 0cm 10.0pt 0cm;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Aptos;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;
	font-style:italic;}
span.MsoIntenseEmphasis
	{mso-style-priority:21;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;
	font-style:italic;}
span.MsoIntenseReference
	{mso-style-priority:32;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	font-variant:small-caps;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;
	letter-spacing:.25pt;
	font-weight:bold;}
span.Rubrik1Char
	{mso-style-name:"Rubrik 1 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Rubrik 1";
	mso-ansi-font-size:20.0pt;
	mso-bidi-font-size:20.0pt;
	font-family:"Aptos Display",sans-serif;
	mso-ascii-font-family:"Aptos Display";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"Aptos Display";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;}
span.Rubrik2Char
	{mso-style-name:"Rubrik 2 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Rubrik 2";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:"Aptos Display",sans-serif;
	mso-ascii-font-family:"Aptos Display";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"Aptos Display";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;}
span.Rubrik3Char
	{mso-style-name:"Rubrik 3 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Rubrik 3";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;}
span.Rubrik4Char
	{mso-style-name:"Rubrik 4 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Rubrik 4";
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;
	font-style:italic;}
span.Rubrik5Char
	{mso-style-name:"Rubrik 5 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Rubrik 5";
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;}
span.Rubrik6Char
	{mso-style-name:"Rubrik 6 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Rubrik 6";
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#595959;
	mso-themecolor:text1;
	mso-themetint:166;
	font-style:italic;}
span.Rubrik7Char
	{mso-style-name:"Rubrik 7 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Rubrik 7";
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#595959;
	mso-themecolor:text1;
	mso-themetint:166;}
span.Rubrik8Char
	{mso-style-name:"Rubrik 8 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Rubrik 8";
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#272727;
	mso-themecolor:text1;
	mso-themetint:216;
	font-style:italic;}
span.Rubrik9Char
	{mso-style-name:"Rubrik 9 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Rubrik 9";
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#272727;
	mso-themecolor:text1;
	mso-themetint:216;}
span.RubrikChar
	{mso-style-name:"Rubrik Char";
	mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:Rubrik;
	mso-ansi-font-size:28.0pt;
	mso-bidi-font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	mso-ascii-font-family:"Aptos Display";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"Aptos Display";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	letter-spacing:-.5pt;
	mso-font-kerning:14.0pt;}
span.UnderrubrikChar
	{mso-style-name:"Underrubrik Char";
	mso-style-priority:11;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:Underrubrik;
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#595959;
	mso-themecolor:text1;
	mso-themetint:166;
	letter-spacing:.75pt;}
span.CitatChar
	{mso-style-name:"Citat Char";
	mso-style-priority:29;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:Citat;
	color:#404040;
	mso-themecolor:text1;
	mso-themetint:191;
	font-style:italic;}
span.StarktcitatChar
	{mso-style-name:"Starkt citat Char";
	mso-style-priority:30;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Starkt citat";
	color:#0F4761;
	mso-themecolor:accent1;
	mso-themeshade:191;
	font-style:italic;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:Aptos;
	mso-fareast-theme-font:minor-latin;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-fareast-language:EN-US;}
.MsoPapDefault
	{mso-style-type:export-only;
	margin-bottom:8.0pt;
	line-height:115%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:70.85pt 70.85pt 70.85pt 70.85pt;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Normal tabell";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:8.0pt;
	mso-para-margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	mso-ascii-font-family:Aptos;
	mso-ascii-theme-font:minor-latin;
	mso-hansi-font-family:Aptos;
	mso-hansi-theme-font:minor-latin;
	mso-font-kerning:1.0pt;
	mso-ligatures:standardcontextual;
	mso-fareast-language:EN-US;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=SV style='tab-interval:65.2pt;word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal>&lt;!DOCTYPE html&gt;<o:p></o:p></p>

<p class=MsoNormal>&lt;html <span class=SpellE>lang</span>=&quot;<span
class=SpellE>sv</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal>&lt;<span class=SpellE>head</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;meta <span
class=SpellE>charset</span>=&quot;UTF-8&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;meta <span
class=SpellE>name</span>=&quot;<span class=SpellE>viewport</span>&quot; <span
class=SpellE>content</span>=&quot;<span class=SpellE>width</span>=<span
class=SpellE>device-width</span>, initial-<span class=SpellE>scale</span>=1.0&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;<span
class=SpellE>title</span>&gt;Bildredigerare för Flera Bilder&lt;/<span
class=SpellE>title</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>&lt;!--</span>
Ladda in <span class=SpellE>Tailwind</span> CSS för snabb och modern styling
--&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;script <span
class=SpellE>src</span>=&quot;https://cdn.tailwindcss.com&quot;&gt;&lt;/script&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>&lt;!--</span>
Ladda in <span class=SpellE>Lucide</span> Icons för ikoner --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;script <span
class=SpellE>src</span>=&quot;https://unpkg.com/lucide/dist/umd/lucide.min.js&quot;&gt;&lt;/script&gt;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>&lt;!--</span>
Google Fonts: Inter --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;<span
class=SpellE>link</span> <span class=SpellE>rel</span>=&quot;<span
class=SpellE>preconnect</span>&quot; <span class=SpellE>href</span>=&quot;https://fonts.googleapis.com&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;<span
class=SpellE>link</span> <span class=SpellE>rel</span>=&quot;<span
class=SpellE>preconnect</span>&quot; <span class=SpellE>href</span>=&quot;https://fonts.gstatic.com&quot;
<span class=SpellE>crossorigin</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;<span
class=SpellE>link</span>
href=&quot;https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap&quot;
<span class=SpellE>rel</span>=&quot;<span class=SpellE>stylesheet</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;style&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>/* Anpassad
styling för applikationen */<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span><span
class=SpellE>body</span> {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>font-<span
class=SpellE>family</span>: 'Inter', sans-<span class=SpellE>serif</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>overscroll-behavior</span>: <span class=SpellE>none</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>.<span
class=SpellE><span class=GramE>tab.active</span></span> {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>background</span>-color: #<span class=GramE>374151</span>; /*
gray-700 */<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>border</span>-<span class=SpellE>bottom</span>-color: #3b82f6; /*
blue-500 */<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>#file-input <span
class=GramE>{ display</span>: <span class=SpellE>none</span><span class=GramE>;
}</span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>canvas {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>max-<span
class=SpellE>width</span>: 100%;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>max-<span
class=SpellE>height</span>: 100%;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>object</span>-fit: <span class=SpellE>contain</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>border-radius</span>: 0.5rem;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>#<span
class=GramE>workspace.cropping</span>, #<span class=GramE>workspace.lassoing</span>,
#<span class=GramE>workspace.focusing</span> <span class=GramE>{ cursor</span>:
<span class=SpellE>crosshair</span><span class=GramE>; }</span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>#<span
class=GramE>workspace.pasting</span> <span class=GramE>{ cursor</span>: copy<span
class=GramE>; }</span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span><span
class=GramE>::</span>-<span class=SpellE>webkit-scrollbar</span> <span
class=GramE>{ <span class=SpellE>width</span></span>: 8px; <span class=SpellE>height</span>:
8px<span class=GramE>; }</span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span><span
class=GramE>::</span>-<span class=SpellE>webkit-scrollbar-track</span> <span
class=GramE>{ <span class=SpellE>background</span></span>: #1f2937<span
class=GramE>; }</span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span><span
class=GramE>::</span>-<span class=SpellE>webkit-scrollbar-thumb</span> <span
class=GramE>{ <span class=SpellE>background</span></span>: #4b5563; <span
class=SpellE>border-radius</span>: 10px<span class=GramE>; }</span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span><span
class=GramE>::</span>-<span class=SpellE>webkit-scrollbar-<span class=GramE>thumb:hover</span></span>
<span class=GramE>{ <span class=SpellE>background</span></span>: #6b7280<span
class=GramE>; }</span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span><span
class=GramE>.<span class=SpellE>tool</span></span><span class=SpellE>-<span
class=GramE>button.active</span></span> <span class=GramE>{ <span class=SpellE>background</span></span>-color:
#3b82f6; color: <span class=SpellE>white</span><span class=GramE>; }</span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span><span
class=SpellE><span class=GramE>button:disabled</span></span> {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>opacity</span>: 0.5;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>cursor:
not-<span class=SpellE>allowed</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;/style&gt;<o:p></o:p></p>

<p class=MsoNormal>&lt;/<span class=SpellE>head</span>&gt;<o:p></o:p></p>

<p class=MsoNormal>&lt;<span class=SpellE>body</span> <span class=SpellE>class</span>=&quot;bg-gray-900
text-gray-200 <span class=SpellE>flex</span> <span class=SpellE>flex-col</span>
h-<span class=SpellE>screen</span> <span class=SpellE>overflow-hidden</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>&lt;!--</span>
Huvud-<span class=SpellE>header</span> --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;<span
class=SpellE>header</span> <span class=SpellE>class</span>=&quot;bg-gray-800 <span
class=SpellE>border</span>-b border-gray-700 p-3 <span class=SpellE>flex</span>
<span class=SpellE>items</span>-center <span class=SpellE>justify-between</span>
<span class=SpellE>shadow</span>-md z-20&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>&lt;div <span
class=SpellE>class</span>=&quot;<span class=SpellE>flex</span> <span
class=SpellE>items</span>-center gap-3&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>&lt;i
data-<span class=SpellE>lucide</span>=&quot;image&quot; <span class=SpellE>class</span>=&quot;text-blue-400&quot;&gt;&lt;/i&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>&lt;h1 <span
class=SpellE>class</span>=&quot;text-xl font-<span class=SpellE>bold</span>
text-gray-100&quot;&gt;Bildredigerare Pro&lt;/h1&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>&lt;div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>&lt;<span
class=SpellE>label</span> for=&quot;<span class=SpellE>file</span>-input&quot; <span
class=SpellE>class</span>=&quot;bg-blue-600 hover:bg-blue-700 text-<span
class=SpellE>white</span> font-<span class=SpellE>semibold</span> py-2 px-4 <span
class=SpellE>rounded-lg</span> <span class=SpellE>shadow-sm</span> cursor-<span
class=GramE>pointer transition</span>-colors duration-200 <span class=SpellE>flex</span>
<span class=SpellE>items</span>-center gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>&lt;i
data-<span class=SpellE>lucide</span>=&quot;plus-<span class=SpellE>circle</span>&quot;
<span class=SpellE>class</span>=&quot;w-5 h-5&quot;&gt;&lt;/i&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>Lägg
till bilder<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>&lt;/<span
class=SpellE>label</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>&lt;input <span
class=SpellE>type</span>=&quot;<span class=SpellE>file</span>&quot; id=&quot;<span
class=SpellE>file</span>-input&quot; accept=&quot;image/*&quot; <span
class=SpellE>multiple</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;/<span
class=SpellE>header</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span><span class=GramE>&lt;!--</span>
Huvudlayout --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;div <span
class=SpellE>class</span>=&quot;<span class=SpellE>flex</span> flex-1 <span
class=SpellE>overflow-hidden</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span><span
class=GramE>&lt;!--</span> Vänster sidopanel --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>&lt;<span
class=SpellE>aside</span> id=&quot;editor-<span class=SpellE>sidebar</span>&quot;
<span class=SpellE>class</span>=&quot;w-80 bg-gray-800 p-4 flex-shrink-0 <span
class=SpellE>flex</span> <span class=SpellE>flex-col</span> gap-6 <span
class=SpellE>overflow</span>-y-auto <span class=SpellE>shadow-lg</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>&lt;div
id=&quot;no-image-<span class=SpellE>selected</span>-<span class=SpellE>message</span>&quot;
<span class=SpellE>class</span>=&quot;text-<span class=GramE>center text</span>-gray-400
mt-8&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>&lt;i
data-<span class=SpellE>lucide</span>=&quot;image-off&quot; <span class=SpellE>class</span>=&quot;mx-auto
w-16 h-16 text-gray-600&quot;&gt;&lt;/i&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>&lt;p <span
class=SpellE>class</span>=&quot;mt-4 font-medium&quot;&gt;Ingen bild
vald&lt;/p&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>&lt;p <span
class=SpellE>class</span>=&quot;text-<span class=SpellE>sm</span>&quot;&gt;Lägg
till en bild för att börja <span class=GramE>redigera.&lt;</span>/p&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>           
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>&lt;div
id=&quot;<span class=SpellE>tools</span>-container&quot; <span class=SpellE>class</span>=&quot;<span
class=SpellE>hidden</span> <span class=SpellE>flex-col</span> gap-6&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                 </span><span
class=GramE>&lt;!--</span> Verktyg --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>&lt;div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;h3 <span class=SpellE>class</span>=&quot;text-<span class=SpellE>lg</span>
font-<span class=SpellE>semibold</span> mb-3 <span class=SpellE>border</span>-b
border-gray-600 pb-2 <span class=SpellE>flex</span> <span class=SpellE>items</span>-center
gap-2&quot;<span class=GramE>&gt;&lt;</span>i data-<span class=SpellE>lucide</span>=&quot;wand-2&quot;
<span class=SpellE>class</span>=&quot;w-5 h-5
text-gray-400&quot;&gt;&lt;/i&gt;Verktyg&lt;/h3&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;div <span class=SpellE>class</span>=&quot;<span class=SpellE>grid</span>
grid-cols-3 gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;<span class=SpellE>button</span> id=&quot;<span class=SpellE>crop-tool-btn</span>&quot;
<span class=SpellE>class</span>=&quot;<span class=SpellE>tool-button</span>
bg-gray-700 hover:bg-gray-600 text-gray-300 font-medium py-2 px-3 <span
class=SpellE>rounded-lg</span> <span class=SpellE>flex</span> <span
class=SpellE>items</span>-center <span class=SpellE>justify</span>-center gap-2
transition-colors duration-200&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;i data-<span class=SpellE>lucide</span>=&quot;<span class=SpellE>crop</span>&quot;
<span class=SpellE>class</span>=&quot;w-4 h-4&quot;&gt;&lt;/i&gt;Beskär<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;<span class=SpellE>button</span> id=&quot;focus-<span class=SpellE>tool</span>-<span
class=SpellE>btn</span>&quot; <span class=SpellE>class</span>=&quot;<span
class=SpellE>tool-button</span> bg-gray-700 hover:bg-gray-600 text-gray-300
font-medium py-2 px-3 <span class=SpellE>rounded-lg</span> <span class=SpellE>flex</span>
<span class=SpellE>items</span>-center <span class=SpellE>justify</span>-center
gap-2 transition-colors duration-200&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                          
</span>&lt;i data-<span class=SpellE>lucide</span>=&quot;<span class=SpellE>aperture</span>&quot;
<span class=SpellE>class</span>=&quot;w-4 h-4&quot;&gt;&lt;/i&gt;Fokus<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;<span class=SpellE>button</span> id=&quot;lasso-<span class=SpellE>tool</span>-<span
class=SpellE>btn</span>&quot; <span class=SpellE>class</span>=&quot;<span
class=SpellE>tool-button</span> bg-gray-700 hover:bg-gray-600 text-gray-300
font-medium py-2 px-3 <span class=SpellE>rounded-lg</span> <span class=SpellE>flex</span>
<span class=SpellE>items</span>-center <span class=SpellE>justify</span>-center
gap-2 transition-colors duration-200&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                          
</span>&lt;i data-<span class=SpellE>lucide</span>=&quot;lasso-<span
class=SpellE>select</span>&quot; <span class=SpellE>class</span>=&quot;w-4
h-4&quot;&gt;&lt;/i&gt;Lasso<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=GramE>&lt;!--</span> Dynamiska verktygskontroller --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;div id=&quot;<span class=SpellE>crop-controls</span>&quot; <span
class=SpellE>class</span>=&quot;<span class=SpellE>hidden</span> mt-4 p-3
bg-gray-700/50 <span class=SpellE>rounded-lg</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;p <span class=SpellE>class</span>=&quot;text-<span class=SpellE>sm</span>
text-<span class=GramE>center text</span>-gray-300 mb-2&quot;&gt;Dra på bilden
för att beskära&lt;/p&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;div <span class=SpellE>class</span>=&quot;<span class=SpellE>grid</span>
grid-cols-2 gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                            
</span>&lt;<span class=SpellE>button</span> id=&quot;<span class=SpellE>apply-crop-btn</span>&quot;
<span class=SpellE>class</span>=&quot;bg-green-600 hover:bg-green-700 text-<span
class=SpellE>white</span> font-medium py-2 px-3 <span class=SpellE>rounded-lg</span>
<span class=SpellE>flex</span> <span class=SpellE>items</span>-center <span
class=SpellE>justify</span>-center gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span
style='mso-spacerun:yes'>                                </span>&lt;i data-<span
class=SpellE>lucide</span>=&quot;check&quot; <span class=SpellE>class</span>=&quot;w-4
h-4&quot;&gt;&lt;/i&gt;Använd<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;<span class=SpellE>button</span> id=&quot;<span class=SpellE>cancel-crop-btn</span>&quot;
<span class=SpellE>class</span>=&quot;bg-red-600 hover:bg-red-700 text-<span
class=SpellE>white</span> font-medium py-2 px-3 <span class=SpellE>rounded-lg</span>
<span class=SpellE>flex</span> <span class=SpellE>items</span>-center <span
class=SpellE>justify</span>-center gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span
style='mso-spacerun:yes'>                                </span>&lt;i data-<span
class=SpellE>lucide</span>=&quot;x&quot; <span class=SpellE>class</span>=&quot;w-4
h-4&quot;&gt;&lt;/i&gt;Avbryt<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    
</span>&lt;div id=&quot;focus-<span class=SpellE>controls</span>&quot; <span
class=SpellE>class</span>=&quot;<span class=SpellE>hidden</span> mt-4 p-3
bg-gray-700/50 <span class=SpellE>rounded-lg</span> space-y-4&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;p <span class=SpellE>class</span>=&quot;text-<span class=SpellE>sm</span>
text-<span class=GramE>center text</span>-gray-300 mb-2&quot;&gt;Rita på bilden
för att markera fokus&lt;/p&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;<span class=SpellE>label</span> for=&quot;focus-<span class=SpellE>blur</span>&quot;
<span class=SpellE>class</span>=&quot;<span class=GramE>block text</span>-<span
class=SpellE>sm</span> font-medium text-gray-300
mb-1&quot;&gt;Bakgrundsoskärpa&lt;/<span class=SpellE>label</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;input <span class=SpellE>type</span>=&quot;<span class=SpellE>range</span>&quot;
id=&quot;focus-<span class=SpellE>blur</span>&quot; min=&quot;0&quot;
max=&quot;20&quot; <span class=SpellE>value</span>=&quot;5&quot; <span
class=SpellE>class</span>=&quot;w-full h-2 bg-gray-600 <span class=SpellE>rounded-lg</span>
<span class=SpellE>appearance-none</span> cursor-pointer&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;div id=&quot;focus-actions&quot; <span class=SpellE>class</span>=&quot;<span
class=SpellE>hidden</span> grid-cols-2 gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                            
</span>&lt;<span class=SpellE>button</span> id=&quot;<span class=SpellE>apply</span>-focus-<span
class=SpellE>btn</span>&quot; <span class=SpellE>class</span>=&quot;bg-green-600
hover:bg-green-700 text-<span class=SpellE>white</span> font-medium py-2 px-3 <span
class=SpellE>rounded-lg</span> <span class=SpellE>flex</span> <span
class=SpellE>items</span>-center <span class=SpellE>justify</span>-center
gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span
style='mso-spacerun:yes'>                                </span>&lt;i data-<span
class=SpellE>lucide</span>=&quot;check&quot; <span class=SpellE>class</span>=&quot;w-4
h-4&quot;&gt;&lt;/i&gt;Använd<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;<span class=SpellE>button</span> id=&quot;<span class=SpellE>cancel</span>-focus-<span
class=SpellE>btn</span>&quot; <span class=SpellE>class</span>=&quot;bg-red-600
hover:bg-red-700 text-<span class=SpellE>white</span> font-medium py-2 px-3 <span
class=SpellE>rounded-lg</span> <span class=SpellE>flex</span> <span
class=SpellE>items</span>-center <span class=SpellE>justify</span>-center
gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span
style='mso-spacerun:yes'>                                </span>&lt;i data-<span
class=SpellE>lucide</span>=&quot;x&quot; <span class=SpellE>class</span>=&quot;w-4
h-4&quot;&gt;&lt;/i&gt;Avbryt<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;div id=&quot;lasso-<span class=SpellE>controls</span>&quot; <span
class=SpellE>class</span>=&quot;<span class=SpellE>hidden</span> mt-4 p-3
bg-gray-700/50 <span class=SpellE>rounded-lg</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;p <span class=SpellE>class</span>=&quot;text-<span class=SpellE>sm</span>
text-<span class=GramE>center text</span>-gray-300 mb-2&quot;&gt;Markering
klar&lt;/p&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;div <span class=SpellE>class</span>=&quot;<span class=SpellE>grid</span>
grid-cols-2 gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                            
</span>&lt;<span class=SpellE>button</span> id=&quot;copy-lasso-<span
class=SpellE>btn</span>&quot; <span class=SpellE>class</span>=&quot;bg-blue-600
hover:bg-blue-700 text-<span class=SpellE>white</span> font-medium py-2 px-3 <span
class=SpellE>rounded-lg</span> <span class=SpellE>flex</span> <span
class=SpellE>items</span>-center <span class=SpellE>justify</span>-center
gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span
style='mso-spacerun:yes'>                                </span>&lt;i data-<span
class=SpellE>lucide</span>=&quot;copy&quot; <span class=SpellE>class</span>=&quot;w-4
h-4&quot;&gt;&lt;/i&gt;Kopiera<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;<span class=SpellE>button</span> id=&quot;<span class=SpellE>cut</span>-lasso-<span
class=SpellE>btn</span>&quot; <span class=SpellE>class</span>=&quot;bg-red-600
hover:bg-red-700 text-<span class=SpellE>white</span> font-medium py-2 px-3 <span
class=SpellE>rounded-lg</span> <span class=SpellE>flex</span> <span
class=SpellE>items</span>-center <span class=SpellE>justify</span>-center
gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span
style='mso-spacerun:yes'>                                </span>&lt;i data-<span
class=SpellE>lucide</span>=&quot;<span class=SpellE>scissors</span>&quot; <span
class=SpellE>class</span>=&quot;w-4 h-4&quot;&gt;&lt;/i&gt;Klipp ut<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=GramE>&lt;!--</span> Justeringar --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>&lt;div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;h3 <span class=SpellE>class</span>=&quot;text-<span class=SpellE>lg</span>
font-<span class=SpellE>semibold</span> mb-3 <span class=SpellE>border</span>-b
border-gray-600 pb-2 <span class=SpellE>flex</span> <span class=SpellE>items</span>-center
gap-2&quot;<span class=GramE>&gt;&lt;</span>i data-<span class=SpellE>lucide</span>=&quot;sliders-<span
class=SpellE>horizontal</span>&quot; <span class=SpellE>class</span>=&quot;w-5
h-5 text-gray-400&quot;&gt;&lt;/i&gt;Justeringar&lt;/h3&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;div <span class=SpellE>class</span>=&quot;space-y-4&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;div <span class=SpellE>class</span>=&quot;filter-<span class=SpellE>control</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;<span class=SpellE>label</span> for=&quot;<span class=SpellE>brightness</span>&quot;
<span class=SpellE>class</span>=&quot;<span class=GramE>block text</span>-<span
class=SpellE>sm</span> font-medium text-gray-300 mb-1&quot;&gt;Ljusstyrka&lt;/<span
class=SpellE>label</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;input <span class=SpellE>type</span>=&quot;<span class=SpellE>range</span>&quot;
id=&quot;<span class=SpellE>brightness</span>&quot; min=&quot;-100&quot;
max=&quot;100&quot; <span class=SpellE>value</span>=&quot;0&quot; <span
class=SpellE>class</span>=&quot;w-full h-2 bg-gray-600 <span class=SpellE>rounded-lg</span>
<span class=SpellE>appearance-none</span> cursor-pointer&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;div <span class=SpellE>class</span>=&quot;filter-<span class=SpellE>control</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;<span class=SpellE>label</span> for=&quot;<span class=SpellE>contrast</span>&quot;
<span class=SpellE>class</span>=&quot;<span class=GramE>block text</span>-<span
class=SpellE>sm</span> font-medium text-gray-300 mb-1&quot;&gt;Kontrast&lt;/<span
class=SpellE>label</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;input <span class=SpellE>type</span>=&quot;<span class=SpellE>range</span>&quot;
id=&quot;<span class=SpellE>contrast</span>&quot; min=&quot;-100&quot;
max=&quot;100&quot; <span class=SpellE>value</span>=&quot;0&quot; <span
class=SpellE>class</span>=&quot;w-full h-2 bg-gray-600 <span class=SpellE>rounded-lg</span>
<span class=SpellE>appearance-none</span> cursor-pointer&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;div <span class=SpellE>class</span>=&quot;filter-<span class=SpellE>control</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;<span class=SpellE>label</span> for=&quot;<span class=SpellE>saturate</span>&quot;
<span class=SpellE>class</span>=&quot;<span class=GramE>block text</span>-<span
class=SpellE>sm</span> font-medium text-gray-300 mb-1&quot;&gt;Mättnad&lt;/<span
class=SpellE>label</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;input <span class=SpellE>type</span>=&quot;<span class=SpellE>range</span>&quot;
id=&quot;<span class=SpellE>saturate</span>&quot; min=&quot;0&quot;
max=&quot;200&quot; <span class=SpellE>value</span>=&quot;100&quot; <span
class=SpellE>class</span>=&quot;w-full h-2 bg-gray-600 <span class=SpellE>rounded-lg</span>
<span class=SpellE>appearance-none</span> cursor-pointer&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                        
</span>&lt;div <span class=SpellE>class</span>=&quot;filter-<span class=SpellE>control</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;<span class=SpellE>label</span> for=&quot;<span class=SpellE>grayscale</span>&quot;
<span class=SpellE>class</span>=&quot;<span class=GramE>block text</span>-<span
class=SpellE>sm</span> font-medium text-gray-300 mb-1&quot;&gt;Gråskala&lt;/<span
class=SpellE>label</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;input <span class=SpellE>type</span>=&quot;<span class=SpellE>range</span>&quot;
id=&quot;<span class=SpellE>grayscale</span>&quot; min=&quot;0&quot;
max=&quot;100&quot; <span class=SpellE>value</span>=&quot;0&quot; <span
class=SpellE>class</span>=&quot;w-full h-2 bg-gray-600 <span class=SpellE>rounded-lg</span>
<span class=SpellE>appearance-none</span> cursor-pointer&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;div <span class=SpellE>class</span>=&quot;filter-<span class=SpellE>control</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;<span class=SpellE>label</span> for=&quot;sepia&quot; <span
class=SpellE>class</span>=&quot;<span class=GramE>block text</span>-<span
class=SpellE>sm</span> font-medium text-gray-300 mb-1&quot;&gt;Sepia&lt;/<span
class=SpellE>label</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;input <span class=SpellE>type</span>=&quot;<span class=SpellE>range</span>&quot;
id=&quot;sepia&quot; min=&quot;0&quot; max=&quot;100&quot; <span class=SpellE>value</span>=&quot;0&quot;
<span class=SpellE>class</span>=&quot;w-full h-2 bg-gray-600 <span
class=SpellE>rounded-lg</span> <span class=SpellE>appearance-none</span>
cursor-pointer&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=GramE>&lt;!--</span> Åtgärder --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>&lt;div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;h3 <span class=SpellE>class</span>=&quot;text-<span class=SpellE>lg</span>
font-<span class=SpellE>semibold</span> mb-3 <span class=SpellE>border</span>-b
border-gray-600 pb-2 <span class=SpellE>flex</span> <span class=SpellE>items</span>-center
gap-2&quot;<span class=GramE>&gt;&lt;</span>i data-<span class=SpellE>lucide</span>=&quot;settings-2&quot;
<span class=SpellE>class</span>=&quot;w-5 h-5
text-gray-400&quot;&gt;&lt;/i&gt;Åtgärder&lt;/h3&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;div <span class=SpellE>class</span>=&quot;<span class=SpellE>grid</span>
grid-cols-2 gap-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;<span class=SpellE>button</span> id=&quot;<span class=SpellE>paste-btn</span>&quot;
<span class=SpellE>class</span>=&quot;bg-purple-600 hover:bg-purple-700 text-<span
class=SpellE>white</span> font-medium py-2 px-3 <span class=SpellE>rounded-lg</span>
<span class=SpellE>flex</span> <span class=SpellE>items</span>-center <span
class=SpellE>justify</span>-center gap-2 transition-colors duration-200&quot; <span
class=SpellE>disabled</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;i data-<span class=SpellE>lucide</span>=&quot;clipboard-<span
class=SpellE>paste</span>&quot; <span class=SpellE>class</span>=&quot;w-4
h-4&quot;&gt;&lt;/i&gt;Klistra in<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;<span class=SpellE>button</span> id=&quot;<span class=SpellE>reset</span>-filters-<span
class=SpellE>btn</span>&quot; <span class=SpellE>class</span>=&quot;bg-yellow-600
hover:bg-yellow-700 text-<span class=SpellE>white</span> font-medium py-2 px-3 <span
class=SpellE>rounded-lg</span> <span class=SpellE>flex</span> <span
class=SpellE>items</span>-center <span class=SpellE>justify</span>-center gap-2
transition-colors duration-200&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;i data-<span class=SpellE>lucide</span>=&quot;<span class=SpellE>rotate-cw</span>&quot;
<span class=SpellE>class</span>=&quot;w-4 h-4&quot;&gt;&lt;/i&gt;Återställ<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;<span class=SpellE>button</span> id=&quot;<span class=SpellE>download-btn</span>&quot;
<span class=SpellE>class</span>=&quot;bg-green-600 hover:bg-green-700 text-<span
class=SpellE>white</span> font-medium py-2 px-3 <span class=SpellE>rounded-lg</span>
<span class=SpellE>flex</span> <span class=SpellE>items</span>-center <span
class=SpellE>justify</span>-center gap-2 transition-colors duration-200
col-span-2&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>&lt;i data-<span class=SpellE>lucide</span>=&quot;<span class=SpellE>download</span>&quot;
<span class=SpellE>class</span>=&quot;w-4 h-4&quot;&gt;&lt;/i&gt;Spara Bild<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>&lt;/<span class=SpellE>button</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>           
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>&lt;/<span
class=SpellE>aside</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span><span
class=GramE>&lt;!--</span> Huvudinnehåll --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>&lt;<span
class=SpellE>main</span> <span class=SpellE>class</span>=&quot;flex-1 <span
class=SpellE>flex</span> <span class=SpellE>flex-col</span> bg-gray-900 <span
class=SpellE>overflow-hidden</span>&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=GramE>&lt;!--</span> Flik-rad --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>&lt;div
id=&quot;<span class=SpellE>tabs</span>-container&quot; <span class=SpellE>class</span>=&quot;flex-shrink-0
bg-gray-800 <span class=SpellE>border</span>-b border-gray-700&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>&lt;div id=&quot;<span class=SpellE>tabs</span>&quot; <span
class=SpellE>class</span>=&quot;<span class=SpellE>flex</span> <span
class=SpellE>items</span>-center&quot;&gt;&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>           
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=GramE>&lt;!--</span> Arbetsyta --&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>&lt;div
id=&quot;<span class=SpellE>workspace</span>&quot; <span class=SpellE>class</span>=&quot;flex-1
p-4 bg-gray-900 <span class=SpellE>flex</span> <span class=SpellE>items</span>-center
<span class=SpellE>justify</span>-center <span class=SpellE>overflow</span>-auto
relative&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                
</span>&lt;div id=&quot;<span class=SpellE>welcome-message</span>&quot; <span
class=SpellE>class</span>=&quot;text-<span class=GramE>center text</span>-gray-500&quot;&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;i data-<span class=SpellE>lucide</span>=&quot;image-plus&quot; <span
class=SpellE>class</span>=&quot;mx-auto w-24 h-24
text-gray-700&quot;&gt;&lt;/i&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;h2 <span class=SpellE>class</span>=&quot;mt-4 text-2xl font-<span
class=SpellE>bold</span>&quot;&gt;Välkommen till <span class=GramE>Bildredigeraren!&lt;</span>/h2&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>&lt;p <span class=SpellE>class</span>=&quot;mt-2 text-<span
class=SpellE>lg</span>&quot;&gt;Klicka på &quot;Lägg till bilder&quot; för att
komma <span class=GramE>igång.&lt;</span>/p&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>           
</span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>&lt;/<span
class=SpellE>main</span>&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;/div&gt;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;script&gt;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span><span
class=SpellE><span class=GramE>window.addEventListener</span></span>('<span
class=SpellE>load</span>', () =&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE><span class=GramE>lucide.createIcons</span></span>();<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>//
DOM-referenser<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>fileInput</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>file</span>-input');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>tabsContainer</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>tabs</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>workspace</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>workspace</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>welcomeMessage</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>welcome-message</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>noImageMessage</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('no-image-<span
class=SpellE>selected</span>-<span class=SpellE>message</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>toolsContainer</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>tools</span>-container');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>cropToolBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>crop-tool-btn</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>focusToolBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('focus-<span
class=SpellE>tool</span>-<span class=SpellE>btn</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>lassoToolBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('lasso-<span
class=SpellE>tool</span>-<span class=SpellE>btn</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>cropControls</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>crop-controls</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>focusControls</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('focus-<span
class=SpellE>controls'</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>lassoControls</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('lasso-<span
class=SpellE>controls'</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>applyCropBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>apply-crop-btn</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>cancelCropBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>cancel-crop-btn</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>copyLassoBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('copy-lasso-<span
class=SpellE>btn</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>cutLassoBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>cut</span>-lasso-<span class=SpellE>btn</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>focusBlurSlider</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('focus-<span
class=SpellE>blur</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>focusActions</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('focus-actions');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>applyFocusBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>apply</span>-focus-<span class=SpellE>btn</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>cancelFocusBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>cancel</span>-focus-<span class=SpellE>btn</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>pasteBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>paste-btn</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>resetBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>reset</span>-filters-<span class=SpellE>btn</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>const</span> <span class=SpellE>downloadBtn</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>download-btn</span>');<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>//
Applikationens tillstånd<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>let</span> <span class=SpellE>appState</span> = {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>images: [],<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>activeImageId</span>: <span class=SpellE>null</span>,<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>activeTool</span>: <span class=SpellE>null</span>, // '<span
class=SpellE>crop</span>', 'focus', 'lasso', '<span class=SpellE>pasting</span>'<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>cropBox</span>: <span class=SpellE>null</span>,<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>isCropping</span>: <span class=SpellE>false</span>,<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>lassoPath</span>: [],<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>isDrawingLasso</span>: <span class=SpellE>false</span>,<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>isDrawingFocus</span>: <span class=SpellE>false</span>,<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>clipboard: <span class=SpellE>null</span>, // <span class=GramE>{ image</span>:
Image, <span class=SpellE>path</span>: Path2<span class=GramE>D }</span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>pastedItem</span>: <span class=SpellE>null</span>, // <span
class=GramE>{ image</span>: Image, x: <span class=SpellE>number</span>, y: <span
class=SpellE><span class=GramE>number</span></span><span class=GramE> }</span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>};<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>// ----
HÄNDELSEHANTERARE ----<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>fileInput.addEventListener</span>('<span class=SpellE>change</span>',
<span class=SpellE>handleImageUpload</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE><span class=GramE>document.querySelectorAll</span></span>(<span
class=GramE>'.filter</span>-<span class=SpellE>control</span> input'<span
class=GramE>).<span class=SpellE>forEach</span></span>(input =&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>input.addEventListener</span></span>('input', ()
=&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>updateFiltersFromUI</span></span><span
class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>redrawActiveCanvas</span></span><span
class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>});<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>});<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>resetBtn.addEventListener</span>('<span class=SpellE>click</span>',
<span class=SpellE>resetActiveImage</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>downloadBtn.addEventListener</span>('<span class=SpellE>click</span>',
<span class=SpellE>downloadActiveImage</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>pasteBtn.addEventListener</span>('<span class=SpellE>click</span>',
<span class=SpellE>enterPastingMode</span>);<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>//
Verktygsknappar<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>cropToolBtn.addEventListener</span>('<span class=SpellE>click</span>',
() =&gt; <span class=SpellE>toggleTool</span>('<span class=SpellE>crop</span>'));<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>focusToolBtn.addEventListener</span>('<span class=SpellE>click</span>',
() =&gt; <span class=SpellE>toggleTool</span>('focus'));<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>lassoToolBtn.addEventListener</span>('<span class=SpellE>click</span>',
() =&gt; <span class=SpellE>toggleTool</span>('lasso'));<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>//
Verktygskontroller<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>applyCropBtn.addEventListener</span>('<span class=SpellE>click</span>',
<span class=SpellE>applyCrop</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>cancelCropBtn.addEventListener</span>('<span class=SpellE>click</span>',
() =&gt; <span class=SpellE>toggleTool</span>('<span class=SpellE>crop</span>'));<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>copyLassoBtn.addEventListener</span>('<span class=SpellE>click</span>',
() =&gt; <span class=SpellE>handleLassoSelection</span>(<span class=SpellE>false</span>));<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>cutLassoBtn.addEventListener</span>('<span class=SpellE>click</span>',
() =&gt; <span class=SpellE>handleLassoSelection</span>(<span class=SpellE>true</span>));<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>focusBlurSlider.addEventListener</span>('input', () =&gt; <span
class=SpellE><span class=GramE>redrawActiveCanvas</span></span><span
class=GramE>(</span>));<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>applyFocusBtn.addEventListener</span>('<span class=SpellE>click</span>',
<span class=SpellE>applyFocus</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>cancelFocusBtn.addEventListener</span>('<span class=SpellE>click</span>',
<span class=SpellE>cancelFocus</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>//
Arbetsyta<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE><span class=GramE>workspace.addEventListener</span></span>('<span
class=SpellE>mousedown</span>', <span class=SpellE>handleWorkspaceMouseDown</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE><span class=GramE>workspace.addEventListener</span></span>('<span
class=SpellE>mousemove</span>', <span class=SpellE>handleWorkspaceMouseMove</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE><span class=GramE>workspace.addEventListener</span></span>('<span
class=SpellE>mouseup</span>', <span class=SpellE>handleWorkspaceMouseUp</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE><span class=GramE>workspace.addEventListener</span></span>('<span
class=SpellE>click</span>', <span class=SpellE>handleWorkspaceClick</span>);<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>// ----
KÄRNFUNKTIONER ----<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>handleImageUpload</span>(e) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>files</span> = <span class=SpellE><span
class=GramE>e.target</span>.files</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE><span class=GramE>files.length</span></span>
&gt; 0) <span class=SpellE>welcomeMessage.classList.add</span>('<span
class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>Array.from</span>(<span class=SpellE>files</span><span
class=GramE>).<span class=SpellE>forEach</span></span>(<span class=SpellE>file</span>
=&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>if</span> (<span class=SpellE><span class=GramE>appState.images.some</span></span>(<span
class=SpellE>img</span> =&gt; img.name === file.name)) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=GramE>alert(</span>`Bilden &quot;${file.name}&quot; är redan
<span class=GramE>öppen.`</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>const</span> <span class=SpellE>reader</span> = new <span
class=SpellE><span class=GramE>FileReader</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>reader.onload</span></span> = (event) =&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE>const</span> <span class=SpellE>img</span> = new <span
class=GramE>Image(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE><span class=GramE>img.onload</span></span> = () =&gt;
{<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span><span class=SpellE>const</span> <span class=SpellE>imageId</span> = `<span
class=SpellE>img</span>-${<span class=SpellE><span class=GramE>Date.now</span></span><span
class=GramE>()}-</span>${<span class=SpellE>Math.random</span>(<span
class=GramE>)}`</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span><span class=SpellE>const</span> <span class=SpellE>newImage</span> = {<o:p></o:p></p>

<p class=MsoNormal><span
style='mso-spacerun:yes'>                                </span>id: <span
class=SpellE>imageId</span>, <span class=SpellE>name</span>: file.name, <span
class=SpellE>originalElement</span>: <span class=SpellE>img</span>,<o:p></o:p></p>

<p class=MsoNormal><span
style='mso-spacerun:yes'>                                </span><span
class=SpellE>currentElement</span>: <span class=SpellE>img</span>, filters: <span
class=SpellE><span class=GramE>getDefaultFilters</span></span><span
class=GramE>(</span>),<o:p></o:p></p>

<p class=MsoNormal><span
style='mso-spacerun:yes'>                                </span>focus: <span
class=GramE>{ <span class=SpellE>path</span></span>: [], <span class=SpellE>blur</span>:
<span class=GramE>5 }</span>, canvas: <span class=SpellE>null</span>,<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span>};<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span><span class=SpellE><span class=GramE>appState.images.push</span></span>(<span
class=SpellE>newImage</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span><span class=SpellE>createCanvasForImage</span>(<span class=SpellE>newImage</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span><span class=SpellE>switchTab</span>(<span class=SpellE>imageId</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>};<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE>img.src</span> = <span class=SpellE><span
class=GramE>event.target</span>.result</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span>};<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>reader.readAsDataURL</span></span>(<span
class=SpellE>file</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>});<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>e.target</span>.value</span> = ''; <o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>createCanvasForImage</span>(<span
class=SpellE>imageObject</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> canvas = <span class=SpellE><span class=GramE>document.createElement</span></span>('canvas');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>canvas.id = `canvas-${<span class=GramE>imageObject.id}`</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>canvas.classList.add</span>('<span class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>workspace.appendChild</span></span>(canvas);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>imageObject.canvas</span> = canvas;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>updateCanvas</span>(<span class=SpellE>imageObject</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>updateCanvas</span>(<span
class=SpellE>imageObject</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>img</span> = <span class=SpellE>imageObject.currentElement</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> canvas = <span class=SpellE>imageObject.canvas</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>canvas.width</span></span> = <span class=SpellE><span
class=GramE>img.width</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>canvas.height</span></span> = <span
class=SpellE><span class=GramE>img.height</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>redrawCanvas</span>(<span class=SpellE>imageObject</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>switchTab</span>(<span
class=SpellE>imageId</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span>) <span
class=SpellE><span class=GramE>toggleTool</span></span><span class=GramE>(</span><span
class=SpellE>appState.activeTool</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>appState.activeImageId</span> = <span class=SpellE>imageId</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>render</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>closeTab</span>(<span
class=SpellE>imageId</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>imageIndex</span> = <span
class=SpellE><span class=GramE>appState.images.findIndex</span></span>(<span
class=SpellE>img</span> =&gt; img.id === <span class=SpellE>imageId</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE><span class=GramE>imageIndex</span></span><span
class=GramE> &gt;</span> -1) <span class=SpellE><span class=GramE>appState.images.splice</span></span>(<span
class=SpellE>imageIndex</span>, <span class=GramE>1)[</span>0<span class=GramE>].<span
class=SpellE>canvas</span></span><span class=SpellE>.<span class=GramE>remove</span></span><span
class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.activeImageId</span> === <span
class=SpellE>imageId</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.activeImageId</span> = <span class=SpellE><span
class=GramE>appState.images.length</span></span> &gt; <span class=GramE>0 ?</span>
<span class=SpellE>appState.images</span>[<span class=SpellE><span class=GramE>appState.images.length</span></span>
- 1].<span class=GramE>id :</span> <span class=SpellE>null</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>render</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>redrawActiveCanvas</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>activeImage</span>) <span
class=SpellE>redrawCanvas</span>(<span class=SpellE>activeImage</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>resetActiveImage</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>activeImage</span></span>)
<span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>activeImage.filters</span> = <span class=SpellE><span class=GramE>getDefaultFilters</span></span><span
class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>activeImage.focus</span> = <span class=GramE>{ <span class=SpellE>path</span></span>:
[], <span class=SpellE>blur</span>: <span class=GramE>5 }</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>activeImage.currentElement</span> = <span class=SpellE>activeImage.originalElement</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span>) <span
class=SpellE><span class=GramE>toggleTool</span></span><span class=GramE>(</span><span
class=SpellE>appState.activeTool</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>updateCanvas</span>(<span class=SpellE>activeImage</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>render</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>downloadActiveImage</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>activeImage</span></span>)
<span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>//
Använd en temporär canvas för att säkerställa att den slutgiltiga bilden ritas
korrekt<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>exportCanvas</span> = <span
class=SpellE><span class=GramE>document.createElement</span></span>('canvas');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>exportCanvas.width</span> = <span class=SpellE><span class=GramE>activeImage.canvas.width</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>exportCanvas.height</span> = <span class=SpellE><span class=GramE>activeImage.canvas.height</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>exportCtx</span> = <span
class=SpellE>exportCanvas.getContext</span>('2d');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>drawCanvasContent</span></span><span
class=GramE>(</span><span class=SpellE>activeImage</span>, <span class=SpellE>exportCtx</span>,
<span class=SpellE>true</span>); // Rita den slutgiltiga versionen<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>link</span> = <span class=SpellE><span
class=GramE>document.createElement</span></span>('a');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>link.download</span></span> = `redigerad-${<span
class=GramE>activeImage.name}`</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>link.href</span></span> = <span class=SpellE>exportCanvas.toDataURL</span>('image/<span
class=SpellE>png</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>link.click</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>getActiveImage</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>return</span> <span class=SpellE><span class=GramE>appState.images.find</span></span>(<span
class=SpellE>img</span> =&gt; img.id === <span class=SpellE>appState.activeImageId</span>)
|| <span class=SpellE>null</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>getDefaultFilters</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>return</span> <span class=GramE>{ <span class=SpellE>brightness</span></span>:
100, <span class=SpellE>contrast</span>: 100, <span class=SpellE>saturate</span>:
100, <span class=SpellE>grayscale</span>: 0, sepia: <span class=GramE>0 }</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>// ----
RITNINGSFUNKTIONER ----<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>drawCanvasContent</span></span><span
class=GramE>(</span><span class=SpellE>imageObject</span>, <span class=SpellE>ctx</span>,
<span class=SpellE>forExport</span> = <span class=SpellE>false</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                 </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>imageObject</span></span>
|<span class=GramE>| !<span class=SpellE>ctx</span></span>) <span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>img</span> = <span class=SpellE>imageObject.currentElement</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.clearRect</span></span>(0, 0, <span
class=SpellE><span class=GramE>ctx.canvas</span>.width</span>, <span
class=SpellE><span class=GramE>ctx.canvas</span>.height</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>// Om
fokus är applicerat (och inte en förhandsvisning)<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE><span class=GramE>imageObject.focus.path</span>.<span
class=GramE>length</span></span><span class=GramE> &gt;</span> 2 &amp;&amp; (<span
class=SpellE>forExport</span> || <span class=SpellE><span class=GramE>appState.activeTool</span></span><span
class=GramE> !</span>== 'focus')) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>const</span> <span class=SpellE>blurAmount</span> = <span
class=SpellE><span class=GramE>imageObject.focus.blur</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>ctx.save</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>ctx.filter</span></span> = `<span class=SpellE>blur</span>(${<span
class=SpellE>blurAmount</span>}<span class=SpellE>px</span>) ${<span
class=SpellE><span class=GramE>buildFilterString</span></span><span
class=GramE>(</span><span class=SpellE>imageObject.filters</span><span
class=GramE>)}`</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>ctx.drawImage</span></span>(<span class=SpellE>img</span>,
0, 0);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>ctx.restore</span></span>();<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>ctx.save</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>const</span> path2D = createPath2D(<span class=SpellE><span
class=GramE>imageObject.focus.path</span></span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>ctx.clip</span></span>(path2D);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>ctx.filter</span></span> = <span class=SpellE><span
class=GramE>buildFilterString</span></span><span class=GramE>(</span><span
class=SpellE>imageObject.filters</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>ctx.drawImage</span></span>(<span class=SpellE>img</span>,
0, 0);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>ctx.restore</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>} <span
class=SpellE>else</span> {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span>//
Standardritning<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>ctx.filter</span></span> = <span class=SpellE><span
class=GramE>buildFilterString</span></span><span class=GramE>(</span><span
class=SpellE>imageObject.filters</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>ctx.drawImage</span></span>(<span class=SpellE>img</span>,
0, 0);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>redrawCanvas</span>(<span
class=SpellE>imageObject</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>ctx</span> = <span class=SpellE><span
class=GramE>imageObject.canvas.getContext</span></span>('2d');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>//
[FIX] Ny ritningslogik för att hantera förhandsvisning korrekt<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span> ===
'focus' &amp;&amp; <span class=SpellE><span class=GramE>imageObject.focus.path</span>.<span
class=GramE>length</span></span><span class=GramE> &gt;</span> 1) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>drawFocusPreview</span></span><span class=GramE>(</span><span
class=SpellE>ctx</span>, <span class=SpellE>imageObject</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>} <span
class=SpellE>else</span> {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>drawCanvasContent</span></span><span
class=GramE>(</span><span class=SpellE>imageObject</span>, <span class=SpellE>ctx</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>//
Rita UI-överlägg<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span> === '<span
class=SpellE>crop</span>' &amp;&amp; <span class=SpellE>appState.cropBox</span>)
<span class=SpellE>drawCropBox</span>(<span class=SpellE>ctx</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span> ===
'lasso' &amp;&amp; <span class=SpellE><span class=GramE>appState.lassoPath.length</span></span>
&gt; 0) <span class=SpellE>drawLassoPath</span>(<span class=SpellE>ctx</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span> === '<span
class=SpellE>pasting</span>' &amp;&amp; <span class=SpellE>appState.pastedItem</span>)
<span class=SpellE>drawPastedItem</span>(<span class=SpellE>ctx</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>buildFilterString</span>(filters)
{<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>return</span> `<span class=SpellE>brightness</span>(${<span
class=SpellE><span class=GramE>filters.brightness</span></span>}%) <span
class=SpellE>contrast</span>(${<span class=SpellE><span class=GramE>filters.contrast</span></span>}%)
<span class=SpellE>saturate</span>(${<span class=SpellE><span class=GramE>filters.saturate</span></span>}%)
<span class=SpellE>grayscale</span>(${<span class=SpellE><span class=GramE>filters.grayscale</span></span>}%)
sepia(${<span class=SpellE><span class=GramE>filters.sepia</span></span>}<span
class=GramE>%)`</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>// ----
VERKTYGSHANTERING ----<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>updateFiltersFromUI</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>activeImage</span></span>)
<span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>activeImage.filters.brightness</span></span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>brightness</span>'<span class=GramE>).<span class=SpellE>valueAsNumber</span></span>
+ 100;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>activeImage.filters.contrast</span></span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>contrast</span>'<span class=GramE>).<span class=SpellE>valueAsNumber</span></span>
+ 100;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>activeImage.filters.saturate</span></span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>saturate</span>'<span class=GramE>).<span class=SpellE>valueAsNumber</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>activeImage.filters.grayscale</span></span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>grayscale</span>'<span class=GramE>).<span class=SpellE>valueAsNumber</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>activeImage.filters.sepia</span></span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>('sepia'<span
class=GramE>).<span class=SpellE>valueAsNumber</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>toggleTool</span>(<span
class=SpellE>toolName</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>currentlyActive</span> = <span
class=SpellE>appState.activeTool</span> === <span class=SpellE>toolName</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>const</span> <span class=SpellE>btn</span> = <span class=SpellE><span
class=GramE>document.getElementById</span></span>(`${<span class=SpellE><span
class=GramE>appState.activeTool</span></span><span class=GramE>}-</span><span
class=SpellE>tool-btn</span>`);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>if</span>(<span class=SpellE>btn</span>) <span class=SpellE><span
class=GramE>btn.classList.remove</span></span>('<span class=SpellE>active</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>const</span> <span class=SpellE>controls</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>(`${<span
class=SpellE><span class=GramE>appState.activeTool</span></span><span
class=GramE>}-</span><span class=SpellE>controls`</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>if</span>(<span class=SpellE>controls</span>) <span class=SpellE>controls.classList.add</span>('<span
class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>workspace.classList.remove</span></span>('<span
class=SpellE>cropping</span>', '<span class=SpellE>lassoing</span>', '<span
class=SpellE>focusing</span>', '<span class=SpellE>pasting</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.cropBox</span> = <span class=SpellE>null</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.lassoPath</span> = [];<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.isDrawingFocus</span> = <span class=SpellE>false</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.pastedItem</span> = <span class=SpellE>null</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>if</span>(<span class=SpellE>activeImage</span>) <span
class=SpellE><span class=GramE>activeImage.focus.path</span></span> = [];<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>appState.activeTool</span> = <span class=SpellE>null</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>currentlyActive</span></span>)
{<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.activeTool</span> = <span class=SpellE>toolName</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>const</span> <span class=SpellE>btn</span> = <span class=SpellE><span
class=GramE>document.getElementById</span></span>(`${<span class=SpellE>toolName</span>}-<span
class=SpellE>tool-btn</span>`);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>if</span>(<span class=SpellE>btn</span>) <span class=SpellE>btn.classList.add</span>('<span
class=SpellE>active</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>const</span> <span class=SpellE>controls</span> = <span
class=SpellE><span class=GramE>document.getElementById</span></span>(`${<span
class=SpellE>toolName</span>}-<span class=SpellE>controls`</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>if</span>(<span class=SpellE>controls</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE><span class=GramE>controls.classList.remove</span></span>('<span
class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE><span class=GramE>if</span></span><span class=GramE>(</span><span
class=SpellE>toolName</span> === 'lasso' || <span class=SpellE>toolName</span>
=== 'focus') {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span><span class=SpellE>controls.classList.add</span>('<span class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                        
</span><span class=SpellE><span class=GramE>if</span></span><span class=GramE>(</span><span
class=SpellE>toolName</span> === 'focus') <span class=SpellE><span class=GramE>focusControls.classList.remove</span></span>('<span
class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>workspace.classList.add</span>(`${<span class=SpellE>toolName</span>}<span
class=SpellE>ing</span>`);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>redrawActiveCanvas</span></span><span
class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>getMousePos</span></span><span
class=GramE>(</span>canvas, <span class=SpellE>evt</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>rect</span> = <span class=SpellE><span
class=GramE>canvas.getBoundingClientRect</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>scaleX</span> = <span
class=SpellE><span class=GramE>canvas.width</span></span> / <span class=SpellE><span
class=GramE>rect.width</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>scaleY</span> = <span
class=SpellE><span class=GramE>canvas.height</span></span> / <span
class=SpellE><span class=GramE>rect.height</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>return</span> <span class=GramE>{ x</span>: (<span class=SpellE><span
class=GramE>evt.clientX</span></span> - <span class=SpellE><span class=GramE>rect.left</span></span>)
* <span class=SpellE>scaleX</span>, y: (<span class=SpellE><span class=GramE>evt.clientY</span></span>
- <span class=SpellE>rect.top</span>) * <span class=SpellE><span class=GramE>scaleY</span></span><span
class=GramE> }</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>// ----
ARBETSYTA HÄNDELSER ----<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>handleWorkspaceMouseDown</span>(e)
{<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>activeImage</span></span>)
<span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>pos</span> = <span class=SpellE><span
class=GramE>getMousePos</span></span><span class=GramE>(</span><span
class=SpellE>activeImage.canvas</span>, e);<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span> === '<span
class=SpellE>crop</span>') {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.isCropping</span> = <span class=SpellE>true</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.cropBox</span> = <span class=GramE>{ <span class=SpellE>startX</span></span>:
<span class=SpellE>pos.x</span>, <span class=SpellE>startY</span>: <span
class=SpellE><span class=GramE>pos.y</span></span>, <span class=SpellE>endX</span>:
<span class=SpellE>pos.x</span>, <span class=SpellE>endY</span>: <span
class=SpellE><span class=GramE>pos.y</span></span> };<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>} <span
class=SpellE>else</span> <span class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span>
=== 'lasso') {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.isDrawingLasso</span> = <span class=SpellE>true</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.lassoPath</span> = [<span class=SpellE>pos</span>];<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>} <span
class=SpellE>else</span> <span class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span>
=== 'focus') {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.isDrawingFocus</span> = <span class=SpellE>true</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>activeImage.focus.path</span></span> = [<span
class=SpellE>pos</span>];<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>handleWorkspaceMouseMove</span>(e)
{<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>activeImage</span></span>)
<span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>pos</span> = <span class=SpellE><span
class=GramE>getMousePos</span></span><span class=GramE>(</span><span
class=SpellE>activeImage.canvas</span>, e);<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.isCropping</span>
&amp;&amp; <span class=SpellE>appState.cropBox</span>) <span class=SpellE><span
class=GramE>appState.cropBox.endX</span></span> = <span class=SpellE>pos.x</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>else</span> <span class=SpellE>if</span> (<span class=SpellE>appState.isDrawingLasso</span>)
<span class=SpellE><span class=GramE>appState.lassoPath.push</span></span>(<span
class=SpellE>pos</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>else</span> <span class=SpellE>if</span> (<span class=SpellE>appState.isDrawingFocus</span>)
<span class=SpellE><span class=GramE>activeImage.focus.path</span>.push</span>(<span
class=SpellE>pos</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>else</span> <span class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span>
=== '<span class=SpellE>pasting</span>' &amp;&amp; <span class=SpellE>appState.pastedItem</span>)
{<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.pastedItem.x</span> = <span class=SpellE>pos.x</span> - <span
class=SpellE><span class=GramE>appState.pastedItem.image</span>.width</span> /
2;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>appState.pastedItem.y</span></span> = <span
class=SpellE><span class=GramE>pos.y</span></span> - <span class=SpellE><span
class=GramE>appState.pastedItem.image</span>.height</span> / 2;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>redrawActiveCanvas</span></span><span
class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>handleWorkspaceMouseUp</span>(e)
{<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.isCropping</span>) <span
class=SpellE>appState.isCropping</span> = <span class=SpellE>false</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.isDrawingLasso</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.isDrawingLasso</span> = <span class=SpellE>false</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>if</span></span><span class=GramE>(<span
class=SpellE>appState.lassoPath.length</span></span> &gt; 2) <span
class=SpellE><span class=GramE>lassoControls.classList.remove</span></span>('<span
class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.isDrawingFocus</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.isDrawingFocus</span> = <span class=SpellE>false</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>if</span>(<span class=SpellE><span class=GramE>getActiveImage</span></span><span
class=GramE>().<span class=SpellE>focus</span></span><span class=SpellE>.<span
class=GramE>path.length</span></span> &gt; 2) <span class=SpellE><span
class=GramE>focusActions.style.display</span></span> = '<span class=SpellE>grid</span>';<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>redrawActiveCanvas</span></span><span
class=GramE>(</span>); // [FIX] Rita om för att visa sluten bana<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>handleWorkspaceClick</span>(e)
{<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>appState.activeTool</span> === '<span
class=SpellE>pasting</span>' &amp;&amp; <span class=SpellE>appState.pastedItem</span>)
<span class=SpellE><span class=GramE>stampPastedItem</span></span><span
class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>// ----
BESKÄRNING ----<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>drawCropBox</span>(<span
class=SpellE>ctx</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> box = <span class=SpellE>appState.cropBox</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!box</span>) <span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> x = <span class=SpellE><span class=GramE>Math.min</span></span><span
class=GramE>(<span class=SpellE>box.startX</span></span>, <span class=SpellE><span
class=GramE>box.endX</span></span>), y = <span class=SpellE><span class=GramE>Math.min</span></span><span
class=GramE>(<span class=SpellE>box.startY</span></span>, <span class=SpellE><span
class=GramE>box.endY</span></span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>width</span> = <span class=SpellE><span
class=GramE>Math.abs</span></span><span class=GramE>(<span class=SpellE>box.startX</span></span>
- <span class=SpellE><span class=GramE>box.endX</span></span>), <span
class=SpellE>height</span> = <span class=SpellE><span class=GramE>Math.abs</span></span><span
class=GramE>(<span class=SpellE>box.startY</span></span> - <span class=SpellE><span
class=GramE>box.endY</span></span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.save</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.beginPath</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.rect</span></span>(0, 0, <span class=SpellE><span
class=GramE>ctx.canvas</span>.width</span>, <span class=SpellE><span
class=GramE>ctx.canvas</span>.height</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.rect</span></span>(x, y, <span class=SpellE>width</span>,
<span class=SpellE>height</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.fillStyle</span></span> = '<span
class=SpellE><span class=GramE>rgba</span></span><span class=GramE>(</span>0,
0, 0, 0.75)';<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.fill</span></span>('<span class=SpellE>evenodd</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.strokeStyle</span></span> = '<span
class=SpellE><span class=GramE>rgba</span></span><span class=GramE>(</span>255,
255, 255, 0.9)';<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.lineWidth</span></span> = 2;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.strokeRect</span></span>(x, y, <span
class=SpellE>width</span>, <span class=SpellE>height</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.restore</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>applyCrop</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> box = <span class=SpellE>appState.cropBox</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>activeImage</span></span>
|<span class=GramE>| !box</span>) <span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> x = <span class=SpellE><span class=GramE>Math.min</span></span><span
class=GramE>(<span class=SpellE>box.startX</span></span>, <span class=SpellE><span
class=GramE>box.endX</span></span>), y = <span class=SpellE><span class=GramE>Math.min</span></span><span
class=GramE>(<span class=SpellE>box.startY</span></span>, <span class=SpellE><span
class=GramE>box.endY</span></span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>width</span> = <span class=SpellE><span
class=GramE>Math.abs</span></span><span class=GramE>(<span class=SpellE>box.startX</span></span>
- <span class=SpellE><span class=GramE>box.endX</span></span>), <span
class=SpellE>height</span> = <span class=SpellE><span class=GramE>Math.abs</span></span><span
class=GramE>(<span class=SpellE>box.startY</span></span> - <span class=SpellE><span
class=GramE>box.endY</span></span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>width</span> <span class=GramE>&lt;
1</span> || <span class=SpellE>height</span> <span class=GramE>&lt; 1</span>) <span
class=GramE>{ <span class=SpellE>toggleTool</span></span>('<span class=SpellE>crop</span>');
<span class=SpellE>return</span><span class=GramE>; }</span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>drawCanvasContent</span></span><span
class=GramE>(</span><span class=SpellE>activeImage</span>, <span class=SpellE><span
class=GramE>activeImage.canvas.getContext</span></span>('2d'));<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>tempCanvas</span> = <span
class=SpellE><span class=GramE>document.createElement</span></span>('canvas');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>tempCanvas.width</span> = <span class=SpellE>width</span>; <span
class=SpellE>tempCanvas.height</span> = <span class=SpellE>height</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>tempCtx</span> = <span
class=SpellE>tempCanvas.getContext</span>('2d');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>tempCtx.drawImage</span>(<span class=SpellE>activeImage.canvas</span>,
x, y, <span class=SpellE>width</span>, <span class=SpellE>height</span>, 0, 0, <span
class=SpellE>width</span>, <span class=SpellE>height</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>newImageElement</span> = new <span
class=GramE>Image(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>newImageElement.onload</span> = () =&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>activeImage.currentElement</span> = <span class=SpellE>newImageElement</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>activeImage.focus.path</span></span> = [];<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>toggleTool</span>('<span class=SpellE>crop</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>updateCanvas</span>(<span class=SpellE>activeImage</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>render</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>};<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>newImageElement.src</span> = <span class=SpellE>tempCanvas.toDataURL</span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>// ----
FOKUS ----<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>drawFocusPreview</span></span><span
class=GramE>(</span><span class=SpellE>ctx</span>, <span class=SpellE>imageObject</span>)
{<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>imageObject</span></span>
|| <span class=SpellE><span class=GramE>imageObject.focus.path</span>.length</span>
<span class=GramE>&lt; 2</span>) <span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.save</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.filter</span></span> = `<span class=SpellE>blur</span>(${<span
class=SpellE><span class=GramE>focusBlurSlider.valueAsNumber</span></span><span
class=GramE>}<span class=SpellE>px</span></span>) ${<span class=SpellE><span
class=GramE>buildFilterString</span></span><span class=GramE>(</span><span
class=SpellE>imageObject.filters</span><span class=GramE>)}`</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.drawImage</span></span>(<span class=SpellE>imageObject.currentElement</span>,
0, 0);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.restore</span></span>();<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.save</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> path2D = createPath2D(<span class=SpellE><span
class=GramE>imageObject.focus.path</span></span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.clip</span></span>(path2D);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.filter</span></span> = <span class=SpellE><span
class=GramE>buildFilterString</span></span><span class=GramE>(</span><span
class=SpellE>imageObject.filters</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.drawImage</span></span>(<span class=SpellE>imageObject.currentElement</span>,
0, 0);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.restore</span></span>();<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>drawPathOutline</span></span><span class=GramE>(</span><span
class=SpellE>ctx</span>, <span class=SpellE><span class=GramE>imageObject.focus.path</span></span><span
class=GramE>, !</span><span class=SpellE>appState.isDrawingFocus</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>applyFocus</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>activeImage</span></span>
|| <span class=SpellE><span class=GramE>activeImage.focus.path</span>.length</span>
<span class=GramE>&lt; 3</span>) <span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>activeImage.focus.blur</span></span> = <span
class=SpellE>focusBlurSlider.valueAsNumber</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>newImageElement</span> = new <span
class=GramE>Image(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>newImageElement.onload</span> = () =&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>activeImage.currentElement</span> = <span class=SpellE>newImageElement</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>cancelFocus</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>};<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>//
Använd en temporär canvas för att stämpla effekten<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>tempCanvas</span> = <span
class=SpellE><span class=GramE>document.createElement</span></span>('canvas');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>tempCanvas.width</span> = <span class=SpellE><span class=GramE>activeImage.canvas.width</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>tempCanvas.height</span> = <span class=SpellE><span class=GramE>activeImage.canvas.height</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>drawCanvasContent</span></span><span
class=GramE>(</span><span class=SpellE>activeImage</span>, <span class=SpellE>tempCanvas.getContext</span>('2d'),
<span class=SpellE>true</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>newImageElement.src</span> = <span class=SpellE>tempCanvas.toDataURL</span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>cancelFocus</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>activeImage</span>) <span
class=SpellE><span class=GramE>activeImage.focus.path</span></span> = [];<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>appState.isDrawingFocus</span> = <span class=SpellE>false</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>focusActions.style.display</span></span> = '<span
class=SpellE>none</span>';<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>redrawActiveCanvas</span></span><span
class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>// ----
LASSO &amp; URKLIPP ----<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>drawLassoPath</span>(<span
class=SpellE>ctx</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>drawPathOutline</span></span><span class=GramE>(</span><span
class=SpellE>ctx</span>, <span class=SpellE>appState.lassoPath</span><span
class=GramE>, !</span><span class=SpellE>appState.isDrawingLasso</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>handleLassoSelection</span>(<span
class=SpellE>isCut</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>path</span> = <span class=SpellE>appState.lassoPath</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>activeImage</span></span>
|| <span class=SpellE><span class=GramE>path.length</span></span> <span
class=GramE>&lt; 3</span>) <span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> path2D = createPath2D(<span class=SpellE>path</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>bounds</span> = <span
class=SpellE>getPathBounds</span>(<span class=SpellE>path</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>tempCanvas</span> = <span
class=SpellE><span class=GramE>document.createElement</span></span>('canvas');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>tempCanvas.width</span> = <span class=SpellE><span class=GramE>bounds.width</span></span>;
<span class=SpellE>tempCanvas.height</span> = <span class=SpellE><span
class=GramE>bounds.height</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>tempCtx</span> = <span
class=SpellE>tempCanvas.getContext</span>('2d');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>tempCtx.translate</span>(-<span class=SpellE>bounds.x</span>, -<span
class=SpellE><span class=GramE>bounds.y</span></span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>tempCtx.clip</span>(path2D);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>drawCanvasContent</span></span><span
class=GramE>(</span><span class=SpellE>activeImage</span>, <span class=SpellE>tempCtx</span>);
// Rita innehållet till temp-canvas<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>clippedImage</span> = new <span
class=GramE>Image(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>clippedImage.onload</span> = () =&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>appState.clipboard</span> = <span class=GramE>{ image</span>: <span
class=SpellE>clippedImage</span>, <span class=SpellE>path</span>: path2<span
class=GramE>D }</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>pasteBtn.disabled</span> = <span class=SpellE>false</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>lucide.createIcons</span></span>();<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>if</span> (<span class=SpellE>isCut</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE>const</span> <span class=SpellE>mainCtx</span> = <span
class=SpellE><span class=GramE>activeImage.canvas.getContext</span></span>('2d');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE>mainCtx.save</span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE>mainCtx.globalCompositeOperation</span> =
'destination-<span class=SpellE>out</span>';<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE>mainCtx.fill</span>(path2D);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE>mainCtx.restore</span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE>const</span> <span class=SpellE>newImageElement</span>
= new <span class=GramE>Image(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE>newImageElement.onload</span> = () =&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span><span class=SpellE>activeImage.currentElement</span> = <span
class=SpellE>newImageElement</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                           
</span><span class=SpellE>toggleTool</span>('lasso');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span>};<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                       
</span><span class=SpellE>newImageElement.src</span> = <span class=SpellE><span
class=GramE>activeImage.canvas.toDataURL</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span>} <span
class=SpellE>else</span> {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                      
</span><span class=SpellE>toggleTool</span>('lasso');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>};<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>clippedImage.src</span> = <span class=SpellE>tempCanvas.toDataURL</span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>enterPastingMode</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>appState.clipboard</span></span>)
<span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>toggleTool</span>('<span class=SpellE>pasting</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>appState.pastedItem</span> = {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                   
</span>image: <span class=SpellE><span class=GramE>appState.clipboard.image</span></span>,<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span>x:
-1000, y: -1000,<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>};<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>drawPastedItem</span>(<span
class=SpellE>ctx</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>appState.pastedItem</span></span>)
<span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.save</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.globalAlpha</span></span> = 0.75;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.drawImage</span></span>(<span class=SpellE><span
class=GramE>appState.pastedItem.image</span></span>, <span class=SpellE>appState.pastedItem.x</span>,
<span class=SpellE><span class=GramE>appState.pastedItem.y</span></span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.restore</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>stampPastedItem</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>activeImage</span></span>
|<span class=GramE>| !</span><span class=SpellE>appState.pastedItem</span>) <span
class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>ctx</span> = <span class=SpellE><span
class=GramE>activeImage.canvas.getContext</span></span>('2d');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.drawImage</span></span>(<span class=SpellE><span
class=GramE>appState.pastedItem.image</span></span>, <span class=SpellE>appState.pastedItem.x</span>,
<span class=SpellE><span class=GramE>appState.pastedItem.y</span></span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>newImageElement</span> = new <span
class=GramE>Image(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>newImageElement.onload</span> = () =&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>activeImage.currentElement</span> = <span class=SpellE>newImageElement</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>toggleTool</span>('<span class=SpellE>pasting</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>};<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>newImageElement.src</span> = <span class=SpellE><span class=GramE>activeImage.canvas.toDataURL</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>// ----
HJÄLPFUNKTIONER ----<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> createPath2D(<span class=SpellE>path</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> path2D = new Path2<span class=GramE>D(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE><span class=GramE>path.length</span></span>
<span class=GramE>&lt; 2</span>) <span class=SpellE>return</span> path2D;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>path2D.moveTo(<span class=SpellE><span class=GramE>path</span></span><span
class=GramE>[</span>0].x, <span class=SpellE>path</span>[0<span class=GramE>].y</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=GramE>for(</span><span class=SpellE>let</span> i = 1; i <span
class=GramE>&lt; <span class=SpellE>path</span></span><span class=SpellE>.length</span>;
i++) path2D.lineTo(<span class=SpellE>path</span>[i].x, <span class=SpellE>path</span>[i<span
class=GramE>].y</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>               
</span>path2D.closePath();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>return</span> path2D;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>drawPathOutline</span></span><span
class=GramE>(</span><span class=SpellE>ctx</span>, <span class=SpellE>path</span>,
<span class=SpellE>isClosed</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE><span class=GramE>path.length</span></span>
<span class=GramE>&lt; 2</span>) <span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.save</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.strokeStyle</span></span> = '<span
class=SpellE><span class=GramE>rgba</span></span><span class=GramE>(</span>255,
255, 255, 0.9)';<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.lineWidth</span></span> = 2;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.setLineDash</span></span>([5, 5]);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.beginPath</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.moveTo</span></span>(<span class=SpellE><span
class=GramE>path</span></span><span class=GramE>[</span>0].x, <span
class=SpellE>path</span>[0<span class=GramE>].y</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>for (<span
class=SpellE>let</span> i = 1; i <span class=GramE>&lt; <span class=SpellE>path</span></span><span
class=SpellE>.length</span>; i++) <span class=SpellE><span class=GramE>ctx.lineTo</span></span>(<span
class=SpellE>path</span>[i].x, <span class=SpellE>path</span>[i<span
class=GramE>].y</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>isClosed</span>) <span class=SpellE><span
class=GramE>ctx.closePath</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.stroke</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>ctx.restore</span></span>();<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE>getPathBounds</span>(<span
class=SpellE>path</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>let</span> <span class=SpellE>minX</span> = <span class=SpellE>Infinity</span>,
<span class=SpellE>minY</span> = <span class=SpellE>Infinity</span>, <span
class=SpellE>maxX</span> = -<span class=SpellE>Infinity</span>, <span
class=SpellE>maxY</span> = -<span class=SpellE>Infinity</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>path.forEach</span></span>(p =&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>minX</span> = <span class=SpellE><span class=GramE>Math.min</span></span><span
class=GramE>(</span><span class=SpellE>minX</span>, <span class=SpellE>p.x</span>);
<span class=SpellE>minY</span> = <span class=SpellE><span class=GramE>Math.min</span></span><span
class=GramE>(</span><span class=SpellE>minY</span>, <span class=SpellE>p.y</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>maxX</span> = <span class=SpellE><span class=GramE>Math.max</span></span><span
class=GramE>(</span><span class=SpellE>maxX</span>, <span class=SpellE>p.x</span>);
<span class=SpellE>maxY</span> = <span class=SpellE><span class=GramE>Math.max</span></span><span
class=GramE>(</span><span class=SpellE>maxY</span>, <span class=SpellE>p.y</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>});<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>return</span> <span class=GramE>{ x</span>: <span class=SpellE>minX</span>,
y: <span class=SpellE>minY</span>, <span class=SpellE>width</span>: <span
class=SpellE>maxX</span> - <span class=SpellE>minX</span>, <span class=SpellE>height</span>:
<span class=SpellE>maxY</span> - <span class=SpellE><span class=GramE>minY</span></span><span
class=GramE> }</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>// ----
RENDERINGSFUNKTIONER ----<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>updateFilterControls</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> <span class=GramE>(!<span class=SpellE>activeImage</span></span>)
<span class=SpellE>return</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> f = <span class=SpellE>activeImage.filters</span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>brightness</span>').<span class=SpellE>value</span> = <span
class=SpellE><span class=GramE>f.brightness</span></span> - 100;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>contrast</span>').<span class=SpellE>value</span> = <span
class=SpellE><span class=GramE>f.contrast</span></span> - 100;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>saturate</span>').<span class=SpellE>value</span> = <span
class=SpellE><span class=GramE>f.saturate</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>document.getElementById</span></span>('<span
class=SpellE>grayscale</span>').<span class=SpellE>value</span> = <span
class=SpellE><span class=GramE>f.grayscale</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>document.getElementById</span></span>('sepia').<span
class=SpellE>value</span> = <span class=SpellE><span class=GramE>f.sepia</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>focusBlurSlider.value</span> = <span class=SpellE><span
class=GramE>activeImage.focus.blur</span></span>;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span><span
class=SpellE>function</span> <span class=SpellE><span class=GramE>render</span></span><span
class=GramE>(</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>const</span> <span class=SpellE>activeImage</span> = <span
class=SpellE><span class=GramE>getActiveImage</span></span><span class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>//
Flikar<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>tabsContainer.innerHTML</span> = '';<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>appState.images.forEach</span></span>(<span
class=SpellE>img</span> =&gt; {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>const</span> <span class=SpellE>tab</span> = <span class=SpellE><span
class=GramE>document.createElement</span></span>('div');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>tab.className</span></span> = `<span
class=SpellE>tab</span> <span class=SpellE>flex</span> <span class=SpellE>items</span>-center
gap-2 px-4 py-2 cursor-pointer border-b-2 <span class=SpellE>border</span>-transparent
text-<span class=SpellE>sm</span> font-medium transition-colors duration-200
hover:bg-gray-700`;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>tab.dataset</span>.imageId</span> = img.id;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>if</span> (img.id === <span class=SpellE>appState.activeImageId</span>)
<span class=SpellE><span class=GramE>tab.classList.add</span></span><span
class=GramE>(</span>'<span class=SpellE>active</span>', 'text-<span
class=SpellE>white</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>else</span> <span class=SpellE>tab.classList.add</span>('text-gray-400');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>const</span> <span class=SpellE>tabName</span> = <span
class=SpellE><span class=GramE>document.createElement</span></span>('span');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>tabName.textContent</span> = <span class=SpellE><span class=GramE>img.name.length</span></span>
&gt; <span class=GramE>15 ?</span> `${<span class=SpellE><span class=GramE>img.name.substring</span></span>(0,
12<span class=GramE>)}...` :</span> img.name;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>tabName.title</span> = img.name;<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>const</span> <span class=SpellE>closeBtn</span> = <span
class=SpellE><span class=GramE>document.createElement</span></span>('<span
class=SpellE>button</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>closeBtn.innerHTML</span> = '&lt;i data-<span class=SpellE>lucide</span>=&quot;x&quot;
<span class=SpellE>class</span>=&quot;w-4 h-4 text-gray-500 <span class=SpellE>hover:text-white</span>&quot;&gt;&lt;/i&gt;';<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>closeBtn.className</span> = &quot;p-1 <span class=SpellE>rounded</span>-full
hover:bg-gray-600&quot;;<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>tab.append</span></span>(<span class=SpellE>tabName</span>,
<span class=SpellE>closeBtn</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>tab.addEventListener</span></span>('<span
class=SpellE>click</span>', (e) =&gt; <span class=GramE>{ <span class=SpellE>if</span></span>
(<span class=SpellE><span class=GramE>e.target</span>.closest</span>('<span
class=SpellE>button</span>'<span class=GramE>) !</span>== <span class=SpellE>closeBtn</span>)
<span class=SpellE>switchTab</span>(img.id)<span class=GramE>; }</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>closeBtn.addEventListener</span>('<span class=SpellE>click</span>',
(e) =&gt; <span class=GramE>{ <span class=SpellE>e</span></span><span
class=SpellE>.<span class=GramE>stopPropagation</span></span><span class=GramE>(</span>);
<span class=SpellE>closeTab</span>(img.id)<span class=GramE>; }</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>tabsContainer.appendChild</span>(<span class=SpellE>tab</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>});<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>lucide.createIcons</span></span>();<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>//
Arbetsyta<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE><span class=GramE>workspace.querySelectorAll</span></span>('canvas'<span
class=GramE>).<span class=SpellE>forEach</span></span>(c =&gt; <span
class=SpellE>c.classList.add</span>('<span class=SpellE>hidden</span>'));<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>activeImage</span> &amp;&amp; <span
class=SpellE>activeImage.canvas</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>activeImage.canvas.classList.remove</span></span>('<span
class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>welcomeMessage.classList.add</span>('<span class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>} <span
class=SpellE>else</span> <span class=SpellE>if</span> (<span class=SpellE><span
class=GramE>appState.images.length</span></span> === 0) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>welcomeMessage.classList.remove</span></span>('<span
class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>}<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>//
Sidopanel<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span><span
class=SpellE>if</span> (<span class=SpellE>activeImage</span>) {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>noImageMessage.classList.add</span>('<span class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>toolsContainer.classList.remove</span></span>('<span
class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>toolsContainer.classList.add</span>('<span class=SpellE>flex</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>updateFilterControls</span></span><span
class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>redrawActiveCanvas</span></span><span
class=GramE>(</span>);<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>} <span
class=SpellE>else</span> {<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>noImageMessage.classList.remove</span></span>('<span
class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE>toolsContainer.classList.add</span>('<span class=SpellE>hidden</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                    </span><span
class=SpellE><span class=GramE>toolsContainer.classList.remove</span></span>('<span
class=SpellE>flex</span>');<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>                </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>            </span>}<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>        </span>});<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>    </span>&lt;/script&gt;<o:p></o:p></p>

<p class=MsoNormal>&lt;/<span class=SpellE>body</span>&gt;<o:p></o:p></p>

<p class=MsoNormal>&lt;/html&gt;</p>

</div>

</body>

</html>
